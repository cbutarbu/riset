{"ast":null,"code":"var request = require(\"request\");\n\nvar _ = require('underscore');\n\nexports.geocode = function (providerOpts, loc, cbk, opts) {\n  var options = _.extend({\n    sensor: false,\n    address: loc\n  }, opts || {});\n\n  var uri = \"http\" + (options.key ? \"s\" : \"\") + \"://maps.googleapis.com/maps/api/geocode/json\";\n  request({\n    uri: uri,\n    qs: options\n  }, function (err, resp, body) {\n    if (err) return cbk(err);\n    var result;\n\n    try {\n      result = JSON.parse(body);\n    } catch (err) {\n      cbk(err);\n      return;\n    }\n\n    cbk(null, result);\n  });\n};\n\nexports.reverseGeocode = function (providerOpts, lat, lng, cbk, opts) {\n  var options = _.extend({\n    sensor: false,\n    latlng: lat + ',' + lng\n  }, opts || {});\n\n  var uri = \"http\" + (options.key ? \"s\" : \"\") + \"://maps.googleapis.com/maps/api/geocode/json\";\n  request({\n    uri: uri,\n    qs: options\n  }, function (err, resp, body) {\n    if (err) return cbk(err);\n    var result;\n\n    try {\n      result = JSON.parse(body);\n    } catch (err) {\n      cbk(err);\n      return;\n    }\n\n    cbk(null, result);\n  });\n};","map":null,"metadata":{},"sourceType":"script"}